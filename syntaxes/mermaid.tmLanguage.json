{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "Mermaid",
  "scopeName": "source.mermaid",
  "patterns": [
    {
      "include": "#comments"
    },
    {
      "include": "#keywords"
    },
    {
      "include": "#strings"
    },
    {
      "include": "#identifiers"
    },
    {
      "include": "#arrows"
    },
    {
      "include": "#nodes"
    }
  ],
  "repository": {
    "comments": {
      "patterns": [
        {
          "name": "comment.line.percentage.mermaid",
          "match": "^\\s*%%.*$"
        }
      ]
    },
    "keywords": {
      "patterns": [
        {
          "name": "keyword.control.diagram.mermaid",
          "match": "^\\s*\\b(graph|subgraph|flowchart|flowchart-v2|flowchart-elk|sequenceDiagram|seq|classDiagram|class|stateDiagram|state|stateDiagram-v2|erDiagram|er|journey|gantt|pie|pieChart|gitgraph|C4Context|block|architecture|architecture-beta|mindmap|timeline|zenuml|sankey|quadrantChart|requirementDiagram|c|c4|packet|betty|block-beta|excalidraw)\\b"
        },
        {
          "name": "keyword.control.statement.mermaid",
          "match": "\\b(end|class|actor|participant|as|note|loop|alt|else|opt|par|and|rect|state|fork|if|then|click|href|callback|target)\\b"
        },
        {
          "name": "keyword.control.style.mermaid",
          "match": "\\b(linkStyle|interpolate|curveBasis|curveLinear|curveStepBefore|curveStepAfter|curveMonotoneX|curveMonotoneY|curveCatmullRom|curveNatural|style|link|fill|stroke|opacity)\\b"
        },
        {
          "name": "storage.type.direction.mermaid",
          "match": "\\b(TB|TD|BT|RL|LR|left|right|top|bottom|center)\\b"
        },
        {
          "name": "storage.type.lifecycle.mermaid",
          "match": "\\b(start|stop|fork|join)\\b"
        },
        {
          "name": "constant.numeric.mermaid",
          "match": "\\b([0-9]+|\\*+)\\b"
        },
        {
          "name": "entity.name.tag.mermaid",
          "match": "\\b[A-Z][a-zA-Z0-9_]*\\b"
        }
      ]
    },
    "strings": {
      "patterns": [
        {
          "name": "string.quoted.double.mermaid",
          "begin": "\"",
          "end": "\"",
          "patterns": [
            {
              "name": "constant.character.escape.mermaid",
              "match": "\\\\."
            }
          ]
        },
        {
          "name": "string.quoted.single.mermaid",
          "begin": "'",
          "end": "'",
          "patterns": [
            {
              "name": "constant.character.escape.mermaid",
              "match": "\\\\."
            }
          ]
        }
      ]
    },
    "identifiers": {
      "patterns": [
        {
          "name": "variable.other.mermaid",
          "match": "[a-zA-Z_][a-zA-Z0-9_]*"
        }
      ]
    },
    "arrows": {
      "patterns": [
        {
          "name": "keyword.operator.arrow.solid.mermaid",
          "match": "(?:--?>|<--?>|->>|<-->>|---|--|--x|--o)"
        },
        {
          "name": "keyword.operator.arrow.dotted.mermaid",
          "match": "(?:\\.\\.-?>|<\\.\\.-?>|\\.->>|<\\.->>|\\.\\.-\\.|<\\.\\.\\.|=+>|=+>)"
        },
        {
          "name": "keyword.operator.arrow.thick.mermaid",
          "match": "(?:==+>|<==+>|===)"
        },
        {
          "name": "keyword.operator.arrow.circle.mermaid",
          "match": "(?:[ox]?--+?[ox]|[ox]?==+?[ox]|[ox]?\\.\\.-?\\.[ox]|o--o|x--x)"
        },
        {
          "name": "keyword.operator.arrow.special.mermaid",
          "match": "(?:\\*\\*-?\\*|-\\*-?->|==\\*|==\\*=|<\\||\\|>)"
        }
      ]
    },
    "nodes": {
      "patterns": [
        {
          "name": "meta.node.rectangle.mermaid",
          "match": "\\[([^\\]]+)\\]",
          "captures": {
            "1": {
              "name": "entity.name.function.mermaid"
            }
          }
        },
        {
          "name": "meta.node.stadium.mermaid",
          "match": "\\(([^(]+)\\)",
          "captures": {
            "1": {
              "name": "entity.name.function.mermaid"
            }
          }
        },
        {
          "name": "meta.node.circle.mermaid",
          "match": "\\((([^)]+)\\))",
          "captures": {
            "2": {
              "name": "entity.name.function.mermaid"
            }
          }
        },
        {
          "name": "meta.node.rhombus.mermaid",
          "match": "\\{([^}]+)\\}",
          "captures": {
            "1": {
              "name": "entity.name.function.mermaid"
            }
          }
        },
        {
          "name": "meta.node.hexagon.mermaid",
          "match": "\\{\\{([^}]+)\\}\\}",
          "captures": {
            "1": {
              "name": "entity.name.function.mermaid"
            }
          }
        },
        {
          "name": "meta.node.parallelogram.mermaid",
          "match": "[/][/]",
          "captures": {
            "0": {
              "name": "punctuation.definition.tag.mermaid"
            }
          }
        },
        {
          "name": "meta.node.trapezoid.mermaid",
          "match": "[/][\\[]",
          "captures": {
            "0": {
              "name": "punctuation.definition.tag.mermaid"
            }
          }
        }
      ]
    }
  }
}