## ADDED Requirements

### Requirement: 预览面板显示为纯净画布
预览面板必须移除所有工具栏和装饰元素，只显示图表内容。

#### Scenario: 打开预览面板
- **WHEN** 用户打开 Mermaid 预览面板
- **THEN** 面板只显示图表内容，没有工具栏按钮
- **AND** 图表占满整个可用空间

#### Scenario: 预览面板更新
- **WHEN** Mermaid 源代码发生变化
- **THEN** 预览面板实时更新图表
- **AND** 视图保持当前的缩放和平移状态

### Requirement: 鼠标滚轮直接缩放图表
用户必须能够直接使用鼠标滚轮来缩放图表，无需按住 Ctrl 键。

#### Scenario: 向上滚动放大
- **GIVEN** 预览面板已打开并显示图表
- **WHEN** 用户在画布区域向上滚动鼠标滚轮
- **THEN** 图表以当前鼠标位置为中心放大

#### Scenario: 向下滚动缩小
- **GIVEN** 预览面板已打开并显示图表
- **WHEN** 用户在画布区域向下滚动鼠标滚轮
- **THEN** 图表以当前鼠标位置为中心缩小

#### Scenario: 缩放范围限制
- **WHEN** 用户尝试将图表缩放到超过 3 倍
- **THEN** 缩放比例被限制在 3 倍
- **WHEN** 用户尝试将图表缩放到小于 0.3 倍
- **THEN** 缩放比例被限制在 0.3 倍

### Requirement: 右键菜单提供导出功能
用户必须能够通过右键点击画布来访问导出功能。

#### Scenario: 右键打开菜单
- **GIVEN** 预览面板已打开并显示图表
- **WHEN** 用户在画布区域右键点击
- **THEN** 显示一个自定义右键菜单
- **AND** 菜单中只包含 "Export SVG" 选项
- **AND** 不显示浏览器默认右键菜单

#### Scenario: 点击菜单项导出 SVG
- **GIVEN** 右键菜单已打开
- **WHEN** 用户点击 "Export SVG" 菜单项
- **THEN** 触发 SVG 导出流程
- **AND** 关闭右键菜单

#### Scenario: 点击空白处关闭菜单
- **GIVEN** 右键菜单已打开
- **WHEN** 用户在菜单外点击
- **THEN** 右键菜单关闭

### Requirement: 画布占满整个视口
预览面板必须全屏显示，无任何滚动条或空白边距。

#### Scenario: 打开预览
- **WHEN** 用户打开预览面板
- **THEN** 画布占满整个可视区域
- **AND** 没有垂直或水平滚动条
- **AND** 没有内边距或外边距

#### Scenario: 调整窗口大小
- **WHEN** 用户调整 VS Code 窗口大小
- **THEN** 画布自动适应新的尺寸
- **AND** 图表保持当前的缩放和平移状态

## MODIFIED Requirements

### Requirement: 用户可以通过拖拽平移图表
用户必须能够在画布上按住鼠标拖拽来移动图表。

#### Scenario: 拖拽平移
- **GIVEN** 预览面板已打开并显示图表
- **WHEN** 用户在画布上按住鼠标左键并移动
- **THEN** 图表跟随鼠标移动
- **AND** 鼠标光标变为抓取状态
